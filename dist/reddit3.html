<!-- 


	Examples
	smorse("sos") => "...---..."
	smorse("daily") => "-...-...-..-.--"
	smorse("programmer") => ".--..-.-----..-..-----..-."
	smorse("bits") => "-.....-..."
	smorse("three") => "-.....-..."

	
	smalpha(".--...-.-.-.....-.--........----.-.-..---.---.--.--.-.-....-..-...-.---..--.----..")
	    => "wirnbfzehatqlojpgcvusyxkmd"
	smalpha(".----...---.-....--.-........-----....--.-..-.-..--.--...--..-.---.--..-.-...--..-")
	    => "wzjlepdsvothqfxkbgrmyicuna"
	smalpha("..-...-..-....--.---.---.---..-..--....-.....-..-.--.-.-.--.-..--.--..--.----..-..")
	    => "uvfsqmjazxthbidyrkcwegponl"


 -->
<html>
	<head>
		<title>[Easy] Smooshed Morse Code 1</title>
	</head>
	<body>
		<h1>Hello World!</h1>
		<p>For the purpose of this challenge, Morse code represents every letter as a sequence of 1-4 characters, each of which is either . (dot) or - (dash). The code for the letter a is .-, for b is -..., etc. The codes for each letter a through z are:</p>
		<p style="display: none;">.- -... -.-. -.. . ..-. --. .... .. .--- -.- .-.. -- -. --- .--. --.- .-. ... - ..- ...- .-- -..- -.-- --..</p>
	</body>
	<script>
		var reddit = function() {
			
			var morse = '.- -... -.-. -.. . ..-. --. .... .. .--- -.- .-.. -- -. --- .--. --.- .-. ... - ..- ...- .-- -..- -.-- --..';
			m = morse.split(' ');

			/*
			smorse('sos');
			smorse('daily');
			smorse('programmer');
			smorse('bits');
			smorse('three');
			*/
			makeTree();

			smalpha(".--...-.-.-.....-.--........----.-.-..---.---.--.--.-.-....-..-...-.---..--.----..");


		}

		var smorse = function(str) {

			console.log('smorse(', str, ')');

			var tmp = '';
			for(var i = 0; i < str.length; i++) {
				tmp += m[str.charCodeAt(i) - 97];
			}
			console.log(' => ', tmp);

		}

		var morse_tree = [];
		var makeTree = function() {

			var alphabet = 'abcdefghijklmnopqrstuvwxyz';

			for(var i = 0; i < alphabet.length; i++) {
				//morse_tree.push({m[i]: alphabet.substring(i, i + 1)});
				morse_tree.push({m: m[i], a: alphabet.substring(i, i+1)});
			}

			console.table(morse_tree);
			console.log(morse_tree[1].m);

		}

		var len;
		var result;
		var smalpha = function(str) {

			//console.table(m);

			len = str.length;
			result = [];

			concatString(str, len, 0);

		}

		var concatString = function(str, len, start) {

			console.log('str', str, 'len', len);

			var i;
			if( len > 40 ) {
				for(i = start; i < morse_tree.length; i++) {
					var tmor = morse_tree[i].m;
					var tstr = str.substring(str.length - len, str.length - len + tmor.length);
					//console.log(tmor, tstr);
					if(tmor == tstr) {
						console.log('i', i);
						concatString(str, len - tmor.length, 0);
					}
				}
			}

			/*
			if(len == 0) {
				return;
			} else {
				concatString(str, len, i + 1);
			}
			*/

		}

		//String.fromCharCode(k + 97)

		window.onload = reddit();
	</script>
</html>

